# Dev: run Vite dev server so code changes reload automatically.
# Rebuild when package.json changes: docker compose build frontend
FROM node:20-alpine

WORKDIR /app

COPY package*.json .
RUN npm install

COPY . .

EXPOSE 5173

# Run npm install on start so mounted package.json deps (e.g. @mui/icons-material) are in node_modules volume
CMD ["sh", "-c", "npm install && npm run dev"]
